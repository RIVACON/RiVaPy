<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer Guide &mdash; rivapy  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=61a4c737" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Sample and Test Data" href="sample_data/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            rivapy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/index.html">Notebook Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="rivapy/index.html">Module Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sample_data/index.html">Sample and Test Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#styleguide">Styleguide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#imports">Imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#type-annotation">Type Annotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docstrings">Docstrings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rivapy.tools.example_docstring.DocStringExample"><code class="docutils literal notranslate"><span class="pre">DocStringExample</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#todo-comments">TODO Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#naming">Naming</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#unit-testing">Unit Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#logging-usage">Logging Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Search Page</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rivapy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developer Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developer_guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-guide">
<h1>Developer Guide<a class="headerlink" href="#developer-guide" title="Permalink to this heading"></a></h1>
<p>This section contains some rules and best practices developers for rivapy should consider. It is not meant to be a strict rule set and there may be good reasons why someone decides to deviate from some rule. But please think about the points here when developing. And if you think one of the rules should be modified or deleted, just rais an issue ;-)</p>
<section id="styleguide">
<h2>Styleguide<a class="headerlink" href="#styleguide" title="Permalink to this heading"></a></h2>
<p>We try to follow the <a class="reference external" href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>  writing the code. We cite some of the points in the aformentioned document that we think are most relevant for developers of rivapy in the following but if you are interested in more depth, read the original document.</p>
<section id="imports">
<h3>Imports<a class="headerlink" href="#imports" title="Permalink to this heading"></a></h3>
<p>Use import statements for packages and modules only, not for individual types, classes, or functions.
Exemptions from this rule: Symbols from typing may be directly imported</p>
</section>
<section id="type-annotation">
<h3>Type Annotation<a class="headerlink" href="#type-annotation" title="Permalink to this heading"></a></h3>
<p>Use type annotation with type hints from the module typing for function or method arguments and return types. You may also use it to declare a type of a variable. Use type checkers like pytype during development (for VSCode users we recommend to enable the built-in type checking tool).</p>
</section>
<section id="docstrings">
<h3>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this heading"></a></h3>
<p>Python uses docstrings to document code. A docstring is a string that is the first statement in a package, module, class or function.
A docstring is mandatory for every function or method that has one or more of the following properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>being part of the public API</p></li>
<li><p>nontrivial size</p></li>
<li><p>non-obvious logic</p></li>
</ul>
</div></blockquote>
<p>The docstring of class constructors describe also the principle working of the class and it should the thoroughly documented. As a sample docstring, we provide a template by the documentation of the</p>
<dl class="py class">
<dt class="sig sig-object py" id="rivapy.tools.example_docstring.DocStringExample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.tools.example_docstring.</span></span><span class="sig-name descname"><span class="pre">DocStringExample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rivapy/tools/example_docstring.html#DocStringExample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#rivapy.tools.example_docstring.DocStringExample" title="Permalink to this definition"></a></dt>
<dd><p>Example for a docstring. Here a short description</p>
<p>Here you may write a longer description of class functionality. It may include formulas such as</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>int</em>) – _description_</p></li>
<li><p><strong>b</strong> (<em>float</em>) – _description_</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here you can insert soem note, such as: Be careful, it may be dangerous, see <a class="reference internal" href="rivapy/marketdata/discountcurves.html#rivapy.marketdata.DiscountCurve" title="rivapy.marketdata.DiscountCurve"><code class="xref py py-class docutils literal notranslate"><span class="pre">rivapy.marketdata.DiscountCurve</span></code></a>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Refer to other places where one may find this class or refer to classes simliar to this one (e.g. <a class="reference internal" href="rivapy/marketdata/discountcurves.html#rivapy.marketdata.DiscountCurve" title="rivapy.marketdata.DiscountCurve"><code class="xref py py-class docutils literal notranslate"><span class="pre">rivapy.marketdata.DiscountCurve</span></code></a>).</p>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">depp</span> <span class="o">=</span> <span class="n">DocStringExample</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="todo-comments">
<h3>TODO Comments<a class="headerlink" href="#todo-comments" title="Permalink to this heading"></a></h3>
<p>Use TODO comments for code that is temporary, a short-term solution, or good-enough but not perfect.</p>
</section>
<section id="naming">
<h3>Naming<a class="headerlink" href="#naming" title="Permalink to this heading"></a></h3>
<p>module_name, package_name, ClassName, method_name, ExceptionName, function_name, GLOBAL_CONSTANT_NAME, global_var_name, instance_var_name, function_parameter_name, local_var_name, query_proper_noun_for_thing, send_acronym_via_https.</p>
<p>Function names, variable names, and filenames should be descriptive; avoid abbreviation. In particular, do not use abbreviations that are ambiguous or unfamiliar to readers outside your project, and do not abbreviate by deleting letters within a word.</p>
</section>
</section>
<section id="unit-testing">
<h2>Unit Testing<a class="headerlink" href="#unit-testing" title="Permalink to this heading"></a></h2>
<p>Please write as much unittests as possible. The tests are located in the folder <em>tests</em> and use the python unittest framework.</p>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this heading"></a></h2>
<p>For logging functions that expect a pattern-string (with %-placeholders) as their first argument: Always call them with a string literal (not an f-string!) as their first argument with pattern-parameters as subsequent arguments.</p>
<p>To log, just import the logger from the _logger.py file in the respective module you are currently developing for.
So, if you are currently working in rivapy.pricing, just use the following line in your file</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rivapy.pricing._logger</span> <span class="kn">import</span> <span class="n">logger</span>
</pre></div>
</div>
<p>to retrieve the correct logger.</p>
</section>
</section>
<section id="logging-usage">
<h1>Logging Usage<a class="headerlink" href="#logging-usage" title="Permalink to this heading"></a></h1>
<p>The rivapy package provides logging using the standard python logging module. Here, a separate logger for each submodule
exists:</p>
<blockquote>
<div><ul class="simple">
<li><p>rivapy.instruments</p></li>
<li><p>rivapy.marketdata</p></li>
<li><p>rivapy.models</p></li>
<li><p>rivapy.numerics</p></li>
<li><p>rivapy.pricing</p></li>
<li><p>rivapy.sample_data</p></li>
<li><p>rivapy.tools</p></li>
</ul>
</div></blockquote>
<p>So if you just want to switch on logging globally, you may just use the usual logic</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2">  - </span><span class="si">%(levelname)s</span><span class="s2"> - </span><span class="si">%(filename)s</span><span class="s2">:</span><span class="si">%(lineno)s</span><span class="s2"> - </span><span class="si">%(message)s</span><span class="s2"> &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In some circumstances, it may be useful to set different loglevels for the different modules. Here,
one can use the usual logic, e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;rivapy.pricing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</pre></div>
</div>
<p>to set the loglevel of the rivapy.pricing module.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sample_data/index.html" class="btn btn-neutral float-left" title="Sample and Test Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="glossary.html" class="btn btn-neutral float-right" title="Glossary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>