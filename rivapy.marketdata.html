<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marketdata &mdash; rivapy  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Models" href="rivapy.models.html" />
    <link rel="prev" title="Welcome to rivapy’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> rivapy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Marketdata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#equity">Equity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-rivapy.marketdata.curves">Curves</a></li>
<li class="toctree-l3"><a class="reference internal" href="#volatility-surface">Volatility Surface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#volatility-parametrizations">Volatility Parametrizations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rivapy.models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="rivapy.instruments.html">Instruments</a></li>
<li class="toctree-l1"><a class="reference internal" href="rivapy.pricing.html">Pricing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rivapy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Marketdata</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/rivapy.marketdata.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="marketdata">
<h1>Marketdata<a class="headerlink" href="#marketdata" title="Permalink to this heading"></a></h1>
<section id="equity">
<h2>Equity<a class="headerlink" href="#equity" title="Permalink to this heading"></a></h2>
<section id="module-rivapy.marketdata.curves">
<span id="curves"></span><h3>Curves<a class="headerlink" href="#module-rivapy.marketdata.curves" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.BootstrapHazardCurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.curves.</span></span><span class="sig-name descname"><span class="pre">BootstrapHazardCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><span class="pre">DiscountCurve</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">RR</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_spreads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.BootstrapHazardCurve" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>[summary]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_date</strong> (<em>datetime</em>) – [description]</p></li>
<li><p><strong>trade_date</strong> (<em>datetime</em>) – [description]</p></li>
<li><p><strong>dc</strong> (<a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><em>DiscountCurve</em></a>) – [description]</p></li>
<li><p><strong>RR</strong> (<em>float</em>) – [description]</p></li>
<li><p><strong>payment_dates</strong> (<em>List</em><em>[</em><em>datetime</em><em>]</em>) – [description]</p></li>
<li><p><strong>market_spreads</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – [description]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.BootstrapHazardCurve.calibrate_hazard_rate">
<span class="sig-name descname"><span class="pre">calibrate_hazard_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.BootstrapHazardCurve.calibrate_hazard_rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.BootstrapHazardCurve.calibration_error">
<span class="sig-name descname"><span class="pre">calibration_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mkt_par_spread</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hazard_rates</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.BootstrapHazardCurve.calibration_error" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.BootstrapHazardCurve.create_survival">
<span class="sig-name descname"><span class="pre">create_survival</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hazard_rates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.BootstrapHazardCurve.create_survival" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.BootstrapHazardCurve.par_spread">
<span class="sig-name descname"><span class="pre">par_spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dc_survival</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maturity_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.BootstrapHazardCurve.par_spread" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.DiscountCurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.curves.</span></span><span class="sig-name descname"><span class="pre">DiscountCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">date</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">InterpolationType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">InterpolationType.HAGAN_DF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapolation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ExtrapolationType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ExtrapolationType.NONE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daycounter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Type.Act365Fixed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.DiscountCurve" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Discountcurve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – Identifier of the discount curve.</p></li>
<li><p><strong>refdate</strong> (<em>Union</em><em>[</em><em>datetime</em><em>, </em><em>date</em><em>]</em>) – Reference date of the discount curve.</p></li>
<li><p><strong>dates</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>datetime</em><em>, </em><em>date</em><em>]</em><em>]</em>) – List of dates belonging to the list of discount factors. All dates must be distinct and equal or after the refdate, otherwise an exception will be thrown.</p></li>
<li><p><strong>df</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of discount factors. Length of list of discount factors must equal to length of list of dates, otherwise an exception will be thrown.</p></li>
<li><p><strong>interpolation</strong> (<em>enums.InterpolationType</em><em>, </em><em>optional</em>) – Defaults to InterpolationType.HAGAN_DF.</p></li>
<li><p><strong>extrapolation</strong> (<em>enums.ExtrapolationType</em><em>, </em><em>optional</em>) – Defaults to ExtrapolationType.NONE which does not allow to compute a discount factor for a date past all given dates given to this constructor.</p></li>
<li><p><strong>daycounter</strong> (<em>enums.DayCounterType</em><em>, </em><em>optional</em>) – Daycounter used within the interpolation formula to compute a discount factor between two dates from the dates-list above. Defaults to DayCounterType.Act365Fixed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Exception</strong> – [description]</p></li>
<li><p><strong>Exception</strong> – [description]</p></li>
<li><p><strong>Exception</strong> – [description]</p></li>
<li><p><strong>Exception</strong> – [description]</p></li>
<li><p><strong>Exception</strong> – [description]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.DiscountCurve.get_dates">
<span class="sig-name descname"><span class="pre">get_dates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rivapy.marketdata.curves.DiscountCurve.get_dates" title="Permalink to this definition"></a></dt>
<dd><p>Return list of dates of curve</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of dates</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[datetime]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.DiscountCurve.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rivapy.marketdata.curves.DiscountCurve.get_df" title="Permalink to this definition"></a></dt>
<dd><p>Return list of discount factors</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of discount factors</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.DiscountCurve.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount_factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.DiscountCurve.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plots the discount curve using matplotlibs plot function.
The timegrid includes the dates of the discount curve. Here either the discount factors or the zero rates (continuously compounded, ACT365 yearfraction) are plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>days</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of days between two plotted rates/discount factors. Defaults to 10.</p></li>
<li><p><strong>discount_factors</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, discount factors will be plotted, otherwise the rates. Defaults to False.</p></li>
<li><p><strong>**kwargs</strong> – optional arguments that will be directly passed to the matplotlib plto function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.DiscountCurve.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#rivapy.marketdata.curves.DiscountCurve.value" title="Permalink to this definition"></a></dt>
<dd><p>Return discount factor for a given date</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refdate</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>datetime</em><em>]</em>) – The reference date. If the reference date is in the future (compared to the curves reference date), the forward discount factor will be returned.</p></li>
<li><p><strong>d</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>datetime</em><em>]</em>) – The date for which the discount factor will be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>discount factor</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.EquityForwardCurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.curves.</span></span><span class="sig-name descname"><span class="pre">EquityForwardCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funding_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><span class="pre">DiscountCurve</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">borrow_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><span class="pre">DiscountCurve</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">div_table</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.EquityForwardCurve" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Equity Forward Curve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spot</strong> (<em>float</em>) – Current spot</p></li>
<li><p><strong>discount_curve</strong> (<a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><em>DiscountCurve</em></a>) – [description]</p></li>
<li><p><strong>funding_curve</strong> (<a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><em>DiscountCurve</em></a>) – [description]</p></li>
<li><p><strong>borrow_curve</strong> (<a class="reference internal" href="#rivapy.marketdata.curves.DiscountCurve" title="rivapy.marketdata.curves.DiscountCurve"><em>DiscountCurve</em></a>) – [description]</p></li>
<li><p><strong>div_table</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">rivapy.marketdata.DividendTable</span></code>) – [description]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.EquityForwardCurve.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3650</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.EquityForwardCurve.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plots the forward curve using matplotlibs plot function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>days</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of days between two plotted rates/discount factors. Defaults to 10.</p></li>
<li><p><strong>days_end</strong> (<em>int. optional</em>) – Number of days when plotting will end. Defaults to 10*365 (10yr)</p></li>
<li><p><strong>**kwargs</strong> – optional arguments that will be directly passed to the matplotlib plto function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.EquityForwardCurve.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.EquityForwardCurve.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.PowerPriceForwardCurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.curves.</span></span><span class="sig-name descname"><span class="pre">PowerPriceForwardCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">date</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'1H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.curves.PowerPriceForwardCurve" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple forward curve for power.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refdate</strong> (<em>Union</em><em>[</em><em>datetime</em><em>, </em><em>date</em><em>]</em>) – Reference date of curve</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – Start of forward curve datetimepoints (including this timepoint).
end (dt.datetime): End of forad curve datetimepoints (excluding this timepoint).</p></li>
<li><p><strong>values</strong> (<em>np.ndarray</em>) – <p>One dimensional array holding the price for each datetimepint in the curve. The method value will raise an exception if the number of values is not equal to the number of datetimepoints.
freq (str, optional): Frequency of timepoints. Defaults to ‘1H’. See documentation for pandas.date_range for further details on freq.
tz (str or tzinfo): Time zone name for returning localized datetime points, for example ‘Asia/Hong_Kong’.</p>
<blockquote>
<div><p>By default, the resulting datetime points are timezone-naive. See documentation for pandas.date_range for further details on tz.</p>
</div></blockquote>
</p></li>
<li><p><strong>id</strong> (<em>str</em>) – Identifier for the curve. It has no impact on the valuation functionality. If None, a uuid will be generated. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.PowerPriceForwardCurve.get_df">
<span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#rivapy.marketdata.curves.PowerPriceForwardCurve.get_df" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.curves.PowerPriceForwardCurve.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schedule</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#rivapy.marketdata.curves.PowerPriceForwardCurve.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="volatility-surface">
<h3>Volatility Surface<a class="headerlink" href="#volatility-surface" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilitySurface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilitySurface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forward_curve</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daycounter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilitySurface" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Volatility surface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – Identifier (name) of the volatility surface.</p></li>
<li><p><strong>refdate</strong> (<em>datetime</em>) – Valuation date.</p></li>
<li><p><strong>forward_curve</strong> (<em>rivapy.market_data.EquityForwardCurve</em>) – Forward curve.</p></li>
<li><p><strong>daycounter</strong> (<em>enums.DayCounterType</em>) – [description]</p></li>
<li><p><strong>vol_param</strong> (<em>[</em><a class="reference internal" href="#rivapy.marketdata.VolatilityParametrizationFlat" title="rivapy.marketdata.VolatilityParametrizationFlat"><em>VolatilityParametrizationFlat</em></a><em>,</em><a class="reference internal" href="#rivapy.marketdata.VolatilityParametrizationTerm" title="rivapy.marketdata.VolatilityParametrizationTerm"><em>VolatilityParametrizationTerm</em></a><em>,</em><a class="reference internal" href="#rivapy.marketdata.VolatilityParametrizationSSVI" title="rivapy.marketdata.VolatilityParametrizationSSVI"><em>VolatilityParametrizationSSVI</em></a><em>]</em>) – Volatility parametrization.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilitySurface.calc_implied_vol">
<span class="sig-name descname"><span class="pre">calc_implied_vol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strike</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forward_curve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#rivapy.marketdata.VolatilitySurface.calc_implied_vol" title="Permalink to this definition"></a></dt>
<dd><p>Calculate implied volatility</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refdate</strong> (<em>datetime</em>) – Valuation date.</p></li>
<li><p><strong>expiry</strong> (<em>datetime</em>) – Expiration date.</p></li>
<li><p><strong>strike</strong> (<em>float</em>) – Strike price.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – [description]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Implied volatility.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilitySurface.load">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilitySurface.load" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilitySurface.set_stickyness">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_stickyness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol_stickyness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">VolatilityStickyness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilitySurface.set_stickyness" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<section id="volatility-parametrizations">
<h4>Volatility Parametrizations<a class="headerlink" href="#volatility-parametrizations" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationFlat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityParametrizationFlat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationFlat" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Flat volatility parametrization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vol</strong> (<em>float</em>) – Constant volatility.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationTerm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityParametrizationTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwd_atm_vols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationTerm" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Term volatility parametrization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expiries</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of expiries (sorted from nearest to farest).</p></li>
<li><p><strong>fwd_atm_vols</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of at-the-money volatilities.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSVI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityParametrizationSVI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">svi_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSVI" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_VolatilityParametrizationExpiry</span></code></p>
<p>Raw SVI parametrization (definition 3.1 in  <a class="reference external" href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2033323">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2033323</a>)</p>
<div class="math notranslate nohighlight">
\[w(k) = a + b(\rho (k-m) + \sqrt{(k-m)^2+\sigma^2 })\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expiries</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of expiries (sorted from nearest to farest).</p></li>
<li><p><strong>svi_params</strong> (<em>List</em><em>[</em><em>Tuple</em><em>]</em>) – List of SVI parameters (one Tuple for each expiry). Tuple in the order (a, b, rho, m, sigma).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityParametrizationSSVI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwd_atm_vols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>SSVI volatility parametrization
<a class="reference external" href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2033323">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2033323</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expiries</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of expiries (sorted from nearest to farest).</p></li>
<li><p><strong>fwd_atm_vols</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of at-the-money volatilities.</p></li>
<li><p><strong>rho</strong> (<em>float</em>) – Responsible for the skewness of the volatility surface.</p></li>
<li><p><strong>eta</strong> (<em>float</em>) – Responsible for the curvature.</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – Responsible for the “rate of decay”.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI.calc_implied_vol">
<span class="sig-name descname"><span class="pre">calc_implied_vol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ttm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strike</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI.calc_implied_vol" title="Permalink to this definition"></a></dt>
<dd><p>Calculate implied volatility for given expiry and strike</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ttm</strong> (<em>[</em><em>float</em><em>]</em>) – Expiry.</p></li>
<li><p><strong>strike</strong> (<em>[</em><em>float</em><em>]</em>) – Strike.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Implied volatility.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI.get_eta">
<span class="sig-name descname"><span class="pre">get_eta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI.get_eta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI.get_fwd_atm_vols">
<span class="sig-name descname"><span class="pre">get_fwd_atm_vols</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI.get_fwd_atm_vols" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI.get_gamma">
<span class="sig-name descname"><span class="pre">get_gamma</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI.get_gamma" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSSVI.get_rho">
<span class="sig-name descname"><span class="pre">get_rho</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSSVI.get_rho" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityParametrizationSABR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityParametrizationSABR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sabr_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityParametrizationSABR" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_VolatilityParametrizationExpiry</span></code></p>
<p>SABR parametrization
<a class="reference external" href="https://bsic.it/sabr-stochastic-volatility-model-volatility-smile/">https://bsic.it/sabr-stochastic-volatility-model-volatility-smile/</a></p>
<p>The SABR model assumes that the forward rate and the instantaneous volatility are driven by two correlated Brownian motions:</p>
<div class="math notranslate nohighlight">
\[df_t = \alpha_t f_t^\beta dW_t^1\]</div>
<div class="math notranslate nohighlight">
\[d\alpha_t = \nu\alpha_t dW_t^2\]</div>
<div class="math notranslate nohighlight">
\[E\bigl[dW_t^1 dW_T^2\bigr] = \rho dt\]</div>
<p>The expression that the implied volatility must satisfy is</p>
<div class="math notranslate nohighlight">
\[\sigma_B(K,f) = \frac{\alpha\biggl\{1+\biggl[\frac {(1-\beta)^2}{24}\frac {\alpha^2}{(fK)^{1-\beta}}+\frac {1}{4}\frac {\rho\beta\nu\alpha}{(FK)^{(1-\beta)/2}}+\frac {2-3\rho^2}{24}\nu^2\biggr ]T\biggr \}}{(fK)^{(1-\beta)/2}\biggl[1+\frac {(1-\beta)^2}{24}{ln}^2\frac {f}{K}+\frac {(1-\beta)^4}{1920}{ln}^4\frac {f}{K}\biggr]} \frac {z}{\chi(z)}\]</div>
<div class="math notranslate nohighlight">
\[z = \frac {\nu }{\alpha }(fK)^{(1-\beta )/2} ln \frac {f}{K}\]</div>
<div class="math notranslate nohighlight">
\[\chi(z) = ln \bigl[ \frac {\sqrt{1-2 \rho z+z^2}+z-\rho }{1- \rho} \bigr]\]</div>
<p>When <span class="math notranslate nohighlight">\(f = K\)</span> (for ATM options), the above formula for implied volatility simplifies to:</p>
<div class="math notranslate nohighlight">
\[\sigma_{ATM} = \sigma_B(f,f)=\frac{\alpha\biggl\{1+\biggl[\frac{(1-\beta)^2}{24}\frac{\alpha^2}{f^{2-2\beta}}+\frac{1}{4}\frac{\rho\beta\nu\alpha}{f^{1-\beta}}\frac{2-3\rho^2}{24}\nu^2\biggr]T\biggr\}}{f^{1-\beta}}\]</div>
<p>where</p>
<p>&gt; <span class="math notranslate nohighlight">\(\alpha\)</span> is the instantaneous vol;</p>
<p>&gt; <span class="math notranslate nohighlight">\(\nu\)</span> is the vol of vol;</p>
<p>&gt; <span class="math notranslate nohighlight">\(\rho\)</span> is the correlation between the Brownian motions driving the forward rate and the instantaneous vol;</p>
<p>&gt; <span class="math notranslate nohighlight">\(\beta\)</span> is the CEV component for forward rate (determines shape of forward rates, leverage effect and backbond of ATM vol).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expiries</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of expiries (sorted from nearest to farest).</p></li>
<li><p><strong>sabr_params</strong> (<em>List</em><em>[</em><em>Tuple</em><em>]</em>) – List of SABR parameters (one Tuple for each expiry). Tuple in the order (alpha, nu, beta, rho).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityGridParametrization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rivapy.marketdata.</span></span><span class="sig-name descname"><span class="pre">VolatilityGridParametrization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strikes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityGridParametrization" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Grid parametrization
This parametrization stores a set of strike-vol grids for a given list of expiries and computes a volatility by
- search for the neighboring expiries
- apply a splien interpolation in each expiry to get the respective volatility
- apply a linear interpolation (in total variance)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expiries</strong> (<em>np.array</em>) – An array of the expiries.</p></li>
<li><p><strong>strikes</strong> (<em>np.ndarray</em>) – </p></li>
<li><p><strong>vols</strong> (<em>np.ndarray</em>) – Two dimensional array of volatilities where each row i contains the values for expiry i</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="rivapy.marketdata.VolatilityGridParametrization.calc_implied_vol">
<span class="sig-name descname"><span class="pre">calc_implied_vol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ttm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strike</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rivapy.marketdata.VolatilityGridParametrization.calc_implied_vol" title="Permalink to this definition"></a></dt>
<dd><p>Calculate implied volatility for given expiry and strike</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ttm</strong> (<em>[</em><em>float</em><em>]</em>) – Expiry.</p></li>
<li><p><strong>strike</strong> (<em>[</em><em>float</em><em>]</em>) – Strike.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Implied volatility.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[float]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to rivapy’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rivapy.models.html" class="btn btn-neutral float-right" title="Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, RIVACON GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>